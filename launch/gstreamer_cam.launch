<launch>
    <node pkg="gstreamer_ros_bridge" type="gstreamer_cam_node" name="gstreamer_cam_node" output="screen">
        <!--params for camera a default v4l2 pipeline. Fill these in even if you are using a custom pipeline
        If using custom pipeline, ensure location, width, height, & fps are the same-->
        <param name="camera_location" value="/dev/video0"/>
        <param name="camera_width" value="640"/>
        <param name="camera_height" value="480"/>
        <param name="camera_fps" value="30"/>
        <param name="camera_format" value="YUY2"/> 
        <param name="camera_topic" value="/camera/image_rect"/>
        
        <!-- Custom Gstreamer pipelines. Uncomment to use. (only one at a time) -->

        <!-- Raspi4 v4l2 pipeline -->
        <param name="custom_pipeline" value= 
        "v4l2src device=/dev/video0 ! videoconvert ! videoscale ! video/x-raw,format=GRAY8,width=640,height=480,framerate=30/1 !
         appsink name=sink sync=false drop=true max-buffers=1"
        />

        <!-- Luxonis UVC v4l2 pipeline -->


        <!-- Jetson nano IMX219 pipeline  -->
        <!-- <param name="custom_pipeline" value= 
        "nvarguscamerasrc sensor-mode=4 !
        video/x-raw(memory:NVMM),width=1280,height=720,format=NV12,framerate=30/1 !
        nvvidconv ! video/x-raw,format=RGBA,width=1280,height=720 !
        videoconvert ! video/x-raw,format=RGB !
        appsink name=sink sync=false drop=true max-buffers=1" /> -->
    
        <!-- Libcamera pipeline -->

        </node>
</launch>
